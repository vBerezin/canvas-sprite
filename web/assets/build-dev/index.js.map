{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blocks/section-xbox/index.js","webpack:///./src/blocks/section-xbox/scripts/animate-loop.js","webpack:///./src/blocks/section-xbox/scripts/on-scroll-animate.js","webpack:///./src/blocks/section-xbox/scripts/on-scroll-per-frame.js","webpack:///./src/components/canvas-sprite/index.js","webpack:///./src/index.js","webpack:///./src/index.scss?a6e1","webpack:///./src/scripts/utils/getOffset.js","webpack:///./src/scripts/utils/index.js"],"names":["section","document","querySelector","canvas","placeholder","dataset","img","frames","sprite","CanvasSprite","onLoad","parentNode","removeChild","animate","lastScroll","animated","onScroll","offset","getOffset","windowMiddle","window","scrollY","innerHeight","sectionBottom","top","offsetHeight","addEventListener","render","info","scrollSize","step","frameIndex","Math","round","innerText","node","imgSrc","count","currentFrame","Image","framesCount","ctx","getContext","src","onError","interval","frameHeight","frameWidth","width","height","spriteLeft","spriteTop","min","requestAnimationFrame","clearRect","drawImage","next","prev","loop","speed","reverse","clearInterval","setInterval","onload","onerror","Error","rect","getBoundingClientRect","pageYOffset","documentElement","clientTop","left","pageXOffset","clientLeft"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets\\\\build-dev/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import './scripts/on-scroll-per-frame';\nimport './scripts/animate-loop';\nimport './scripts/on-scroll-animate';\n","import CanvasSprite from '~components/canvas-sprite';\n\n(() => {\n  const section = document.querySelector('.js-section-xbox-2');\n  if (!section) return false;\n  const canvas = section.querySelector('canvas');\n  if (!canvas) return false;\n  const placeholder = section.querySelector('[data-rel=\"placeholder\"]');\n  const { img, frames } = canvas.dataset;\n  const sprite = new CanvasSprite(canvas, img, frames);\n  sprite.onLoad = () => {\n    if (placeholder) placeholder.parentNode.removeChild(placeholder);\n    return sprite.animate(true);\n  };\n  return sprite;\n})();\n","import CanvasSprite from '~components/canvas-sprite';\nimport { getOffset } from '~scripts/utils';\n\n(() => {\n  const section = document.querySelector('.js-section-xbox-3');\n  if (!section) return false;\n  const canvas = section.querySelector('canvas');\n  if (!canvas) return false;\n  const placeholder = section.querySelector('[data-rel=\"placeholder\"]');\n  const { img, frames } = canvas.dataset;\n  const sprite = new CanvasSprite(canvas, img, frames);\n  let lastScroll = 0;\n  let animated = false;\n  sprite.onLoad = () => {\n    const onScroll = () => {\n      const offset = getOffset(section);\n      const windowMiddle = window.scrollY + window.innerHeight / 2;\n      const sectionBottom = offset.top + section.offsetHeight;\n      if (windowMiddle < offset.top || windowMiddle > sectionBottom) {\n        animated = false;\n        lastScroll = windowMiddle;\n        return false;\n      }\n      if (animated) return false;\n      animated = true;\n      if (windowMiddle > lastScroll) {\n        return sprite.animate(false, 1000, false);\n      }\n      return sprite.animate(false, 1000, true);\n    };\n    window.addEventListener('scroll', onScroll);\n    if (placeholder) placeholder.parentNode.removeChild(placeholder);\n    return sprite.render(0);\n  };\n  return sprite;\n})();\n","import CanvasSprite from '~components/canvas-sprite';\nimport { getOffset } from '~scripts/utils';\n\n(() => {\n  const section = document.querySelector('.js-section-xbox-1');\n  if (!section) return false;\n  const canvas = section.querySelector('canvas');\n  if (!canvas) return false;\n  const info = section.querySelector('[data-rel=\"frame.info\"]');\n  const placeholder = section.querySelector('[data-rel=\"placeholder\"]');\n  const { img, frames } = canvas.dataset;\n  const sprite = new CanvasSprite(canvas, img, frames);\n  sprite.onLoad = () => {\n    const offset = getOffset(section);\n    const onScroll = () => {\n      const windowMiddle = window.scrollY + window.innerHeight / 2;\n      if (windowMiddle > offset.top && windowMiddle < offset.top + section.offsetHeight) {\n        const scrollSize = windowMiddle - offset.top;\n        const step = section.offsetHeight / frames;\n        const frameIndex = Math.round(scrollSize / step);\n        info.innerText = frameIndex;\n        return sprite.render(frameIndex);\n      }\n      return false;\n    };\n    window.addEventListener('scroll', onScroll);\n    if (placeholder) placeholder.parentNode.removeChild(placeholder);\n    return sprite.render(0);\n  };\n  return sprite;\n})();\n","export default function CanvasSprite(node, imgSrc, count) {\n  this.canvas = node;\n  this.currentFrame = 0;\n  const sprite = new Image();\n  const framesCount = +count;\n  const ctx = this.canvas.getContext('2d');\n  sprite.src = imgSrc;\n  this.onLoad = null;\n  this.onError = null;\n  let interval;\n  this.render = (frameIndex = 0) => {\n    const { frameHeight, frameWidth, canvas: { width, height } } = this;\n    let spriteLeft = 0;\n    let spriteTop = 0;\n    if (frameWidth > frameHeight) {\n      // горизонтальный спрайт\n      spriteLeft = Math.min(frameIndex * frameWidth, sprite.width - frameWidth);\n    }\n    if (frameHeight > frameWidth) {\n      // вертикальный спрайт\n      spriteTop = Math.min(frameIndex * frameHeight, sprite.height - frameHeight);\n    }\n    return window.requestAnimationFrame(() => {\n      ctx.clearRect(0, 0, width, height);\n      ctx.drawImage(sprite, spriteLeft, spriteTop, frameWidth, frameHeight, 0, 0, width, height);\n    });\n  };\n  this.next = () => {\n    this.currentFrame += 1;\n    if (this.currentFrame > framesCount) {\n      this.currentFrame = 0;\n    }\n    return this.render(this.currentFrame);\n  };\n  this.prev = () => {\n    this.currentFrame -= 1;\n    if (this.currentFrame < 0) {\n      this.currentFrame = framesCount;\n    }\n    return this.render(this.currentFrame);\n  };\n  this.animate = (loop = false, speed = 1000, reverse = false) => {\n    clearInterval(interval);\n    this.currentFrame = reverse ? framesCount : 0;\n    if (reverse) {\n      interval = setInterval(() => {\n        if (!loop && this.currentFrame === 0) {\n          return clearInterval(interval);\n        }\n        return this.prev();\n      }, speed / framesCount);\n    } else {\n      interval = setInterval(() => {\n        if (!loop && this.currentFrame === framesCount) {\n          return clearInterval(interval);\n        }\n        return this.next();\n      }, speed / framesCount);\n    }\n  };\n  sprite.onload = () => {\n    this.frameHeight = sprite.height;\n    this.frameWidth = sprite.width / framesCount;\n    this.canvas.height = sprite.height;\n    this.canvas.width = this.frameWidth;\n    if (typeof this.onLoad === 'function') return this.onLoad();\n    return this.render(this.currentFrame);\n  };\n  sprite.onerror = () => {\n    if (typeof this.onError === 'function') return this.onError();\n    throw new Error(`Sprite ${imgSrc} not loaded`);\n  };\n}\n","import './index.scss';\n\nimport '~blocks/section-xbox';\n","// extracted by mini-css-extract-plugin","/**\n * @description - позиция относительно документа\n * */\nexport default function (node) {\n  if (!node) return false;\n  const rect = node.getBoundingClientRect();\n  return {\n    top: rect.top + window.pageYOffset - document.documentElement.clientTop,\n    left: rect.left + window.pageXOffset - document.documentElement.clientLeft,\n  };\n}\n","import getOffset from './getOffset';\n\nexport {\n   getOffset,\n};\n"],"sourceRoot":""}